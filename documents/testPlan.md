# План тестирования

---

# Содержание
1 [Введение](#introduction)  
2 [Объект тестирования](#items)  
3 [Атрибуты качества](#quality)  
4 [Риски](#risk)  
5 [Аспекты тестирования](#features)  
6 [Подходы к тестированию](#approach)  
7 [Представление результатов](#pass)  
8 [Выводы](#conclusion)

---

<a name="introduction"/>

## Введение

Данный документ описывает план тестирования приложения [**RagnaROCK**](https://github.com/dstpia/MusicRecommends).  
Цель тестирования — проверка корректности реализации основных функций музыкального рекомендательного сервиса, а также обеспечение стабильной работы backend и frontend частей приложения.  

Приложение реализовано на **Spring Boot** (backend) и **React** (frontend). Основные модули: работа с альбомами, авторами и песнями.  
Тестирование проводится на уровне **unit-тестов**, а также проверяется базовый пользовательский функционал интерфейса посредством ручной проверки.

---

<a name="items"/>

## Объект тестирования

Объектами тестирования являются следующие функциональные модули и компоненты приложения:

* **AlbumServiceImpl** — CRUD-операции с альбомами, фильтрация, работа с кэшем, маппинг DTO;  
* **AuthorServiceImpl** — CRUD-операции с авторами, фильтрация, кэширование, работа с мапперами;  
* **SongServiceImpl** — CRUD-операции с песнями, фильтрация, кэширование, валидация данных;  
* **React UI** — страницы AlbumsPage, AuthorsPage, SongsPage, включая отображение, добавление, редактирование и удаление сущностей.

---

<a name="quality"/>

## Атрибуты качества

1. **Функциональность**
   - Полнота: каждая сущность (альбом, автор, песня) должна поддерживать все CRUD-операции;
   - Корректность: результаты операций соответствуют ожиданиям и данным в базе;
   - Кэширование работает корректно, то есть, данные возвращаются из кэша, пока не обновлены.

2. **Удобство использования**
   - Элементы UI имеют понятные названия и поведение;
   - Взаимодействие с модальными окнами и формами корректно отражает результат действий пользователя.

3. **Производительность**
   - Время отклика API не превышает разумных значений при стандартных запросах;
   - Кэширование снижает количество обращений к базе данных.

4. **Надёжность**
   - Исключения корректно обрабатываются;
   - Ошибки при вводе данных не приводят к падению приложения.

---

<a name="risk"/>

## Риски

* Возможное нарушение целостности данных при некорректном маппинге DTO;
* Некорректное обновление кэша после изменений в данных;
* Несоответствие между backend DTO и frontend формами;
* Ошибки при подключении frontend'а к API (например, CORS, неверные пути);
* Потенциальные проблемы с фильтрацией и сортировкой, если параметры невалидны.

---

<a name="features"/>

## Аспекты тестирования

В рамках тестирования проверяются следующие аспекты:

* Запуск backend-приложения и подключение к базе данных;  
* Тестирование CRUD-операций для:
  - **Authors** (создание, обновление, удаление, фильтрация, получение по ID);
  - **Albums** (создание, обновление, удаление, фильтрация, работа с песнями, кэширование);
  - **Songs** (создание, обновление, удаление, фильтрация, валидация);
* Проверка корректной работы DTO-мапперов;
* Проверка корректной работы кэша (`@Cacheable`);
* Отображение данных на UI (React);
* Добавление и редактирование сущностей через модальные окна;
* Взаимодействие между frontend'ом и REST-API.

### Пример аспектов:

#### Создание альбома
- Ввести корректные данные в форму и сохранить;  
- Проверить, что альбом добавлен в список и возвращён корректный DTO.  

#### Обновление автора
- Изменить существующие данные автора;  
- Проверить, что изменения отражены в базе и кэше.

#### Удаление песни
- Удалить песню из списка;  
- Проверить, что песня удалена и больше не возвращается при фильтрации.

#### Работа с кэшем
- Запросить автора дважды подряд;  
- Проверить, что второй раз данные возвращены из кэша;  
- Изменить автора и убедиться, что кэш обновлён.

#### UI-тестирование
- Проверить корректное отображение таблиц и форм;  
- Проверить открытие/закрытие модальных окон;  
- Проверить, что действия на UI вызывают правильные REST-запросы.

---

<a name="approach"/>

## Подходы к тестированию

1. **Автоматическое тестирование (unit-тесты):**
   - Используется **JUnit** и **Mockito**;
   - Тестируются все методы сервисных слоёв;
   - Проверяется взаимодействие с DAO и кэшем;
   - Оценивается корректность DTO-маппинга.

2. **Ручное тестирование:**
   - Проверка пользовательского интерфейса React;
   - Проверка различных операций с backend'ом посредством системы **Postman**;
   - Взаимодействие с формами, модальными окнами и таблицами;
   - Валидация данных на UI.

---

<a name="pass"/>

## Представление результатов

Результаты тестирования представлены в документе [**testResults.md**](https://github.com/dstpia/MusicRecommends/blob/master/documents/testResults.md).

---

<a name="conclusion"/>

## Выводы

План тестирования охватывает основные функциональные и нефункциональные требования приложения [**RagnaROCK**](https://github.com/dstpia/MusicRecommends).  
Успешное выполнение всех тестов подтверждает корректность реализации CRUD-операций, фильтрации, кэширования и работы UI.  
Все имеющиеся на данный момент unit-тесты завершаются **успешно**, что свидетельствует о стабильной работе backend-части проекта.  
